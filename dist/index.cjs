var b=Object.create;var e=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var y=(n,a)=>{for(var t in a)e(n,t,{get:a[t],enumerable:!0})},r=(n,a,t,o)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of d(a))!g.call(n,s)&&s!==t&&e(n,s,{get:()=>a[s],enumerable:!(o=P(a,s))||o.enumerable});return n};var i=(n,a,t)=>(t=n!=null?b(w(n)):{},r(a||!n||!n.__esModule?e(t,"default",{value:n,enumerable:!0}):t,n)),x=n=>r(e({},"__esModule",{value:!0}),n);var $={};y($,{default:()=>M});module.exports=x($);var p=require("execa"),m=i(require("fs/promises"),1),l=i(require("path"),1),c=new Map,u=n=>m.default.stat(n).then(()=>!0,()=>!1);function h(n){let a=`has_global_${n}`;return c.has(a)?Promise.resolve(c.get(a)):(0,p.execa)(n,["--version"]).then(t=>/^\d+.\d+.\d+$/.test(t.stdout)).then(t=>(c.set(a,t),t)).catch(()=>!1)}async function G(n){let a=["yarn","npm","bun"];return(await Promise.all(a.map(async o=>{let s=o==="npm"?"package-lock.json":`${o}.lock${o==="bun"?"b":""}`,f=await u(l.default.join(n,s)),k=await h(o);return{name:o,hasLock:f,hasGlobal:k}}))).filter(o=>o.hasLock||o.hasGlobal)}async function L(n=process.cwd()){return await u(l.default.join(n,"pnpm-lock.yaml"))?{canPnpm:!0,reason:"local lock file"}:await h("pnpm")?{canPnpm:!0,reason:"global installation"}:{canPnpm:!1,otherManagers:(await G(n)).map(s=>({name:s.name,detected:s.hasLock?"local lock file":"global installation"}))}}var M=L;
//# sourceMappingURL=index.cjs.map