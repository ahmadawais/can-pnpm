var w=Object.create;var e=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var x=(n,t)=>{for(var a in t)e(n,a,{get:t[a],enumerable:!0})},l=(n,t,a,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of P(t))!g.call(n,s)&&s!==a&&e(n,s,{get:()=>t[s],enumerable:!(o=y(t,s))||o.enumerable});return n};var i=(n,t,a)=>(a=n!=null?w(d(n)):{},l(t||!n||!n.__esModule?e(a,"default",{value:n,enumerable:!0}):a,n)),G=n=>l(e({},"__esModule",{value:!0}),n);var $={};x($,{default:()=>M});module.exports=G($);var p=require("execa"),u=i(require("fs/promises"),1),c=i(require("path"),1),r=new Map,h=n=>u.default.stat(n).then(()=>!0,()=>!1);function m(n){let t=`has_global_${n}`;return r.has(t)?Promise.resolve(r.get(t)):(0,p.execa)(n,["--version"]).then(a=>/^\d+.\d+.\d+$/.test(a.stdout)).then(a=>(r.set(t,a),a)).catch(()=>!1)}async function L(n){let t=["yarn","npm","bun"];return(await Promise.all(t.map(async o=>{let s=o==="npm"?"package-lock.json":`${o}.lock${o==="bun"?"b":""}`,k=await h(c.default.join(n,s)),b=await m(o);return{name:o,hasLock:k,hasGlobal:b}}))).filter(o=>o.hasLock||o.hasGlobal)}async function f(n=process.cwd()){return await h(c.default.join(n,"pnpm-lock.yaml"))?{canPnpm:!0,reason:"local lock file"}:await m("pnpm")?{canPnpm:!0,reason:"global installation"}:{canPnpm:!1,otherManagers:(await L(n)).map(s=>({name:s.name,detected:s.hasLock?"local lock file":"global installation"}))}}var M=f;(async()=>{try{let n=await f();console.log(n)}catch(n){console.error("Error:",n)}})();
//# sourceMappingURL=index.cjs.map